{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\location-app\\\\frontend\\\\src\\\\components\\\\ProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProfilePage({\n  user\n}) {\n  _s();\n  const [userLocations, setUserLocations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUserLocations = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          navigate('/');\n          return;\n        }\n        const response = await fetch('http://localhost:3000/api/user/locations', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch locations');\n        }\n        const data = await response.json();\n        setUserLocations(data.filter(location => location.creator._id === (user === null || user === void 0 ? void 0 : user.userId)));\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n    fetchUserLocations();\n  }, [user, navigate]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Please log in to view your profile.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '800px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Email: \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Locations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), userLocations.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You haven't added any locations yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '20px',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))'\n      },\n      children: userLocations.map(location => {\n        var _location$content$med;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #ddd',\n            borderRadius: '8px',\n            padding: '15px',\n            backgroundColor: 'white',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '16px',\n              marginBottom: '10px'\n            },\n            children: location.content.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), (_location$content$med = location.content.mediaUrls) === null || _location$content$med === void 0 ? void 0 : _location$content$med.map((url, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3000/${url}`,\n            alt: \"Location media\",\n            style: {\n              width: '100%',\n              height: '150px',\n              objectFit: 'cover',\n              borderRadius: '4px',\n              marginBottom: '10px'\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '14px',\n              color: '#666'\n            },\n            children: [\"Created: \", new Date(location.createdAt).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, location._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/'),\n      style: {\n        marginTop: '20px',\n        padding: '8px 16px',\n        backgroundColor: '#4CAF50',\n        color: 'white',\n        border: 'none',\n        borderRadius: '4px',\n        cursor: 'pointer'\n      },\n      children: \"Back to Map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfilePage, \"FbWaYQn6J8ZIjxabvA7jPVFux0Q=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfilePage;\nexport default ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","ProfilePage","user","_s","userLocations","setUserLocations","loading","setLoading","error","setError","navigate","fetchUserLocations","token","localStorage","getItem","response","fetch","headers","ok","Error","data","json","filter","location","creator","_id","userId","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","maxWidth","margin","email","length","display","gap","gridTemplateColumns","map","_location$content$med","border","borderRadius","backgroundColor","boxShadow","fontSize","marginBottom","content","text","mediaUrls","url","index","src","alt","width","height","objectFit","color","Date","createdAt","toLocaleDateString","onClick","marginTop","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Admin/location-app/frontend/src/components/ProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction ProfilePage({ user }) {\r\n  const [userLocations, setUserLocations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserLocations = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          navigate('/');\r\n          return;\r\n        }\r\n\r\n        const response = await fetch('http://localhost:3000/api/user/locations', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch locations');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setUserLocations(data.filter(location => location.creator._id === user?.userId));\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserLocations();\r\n  }, [user, navigate]);\r\n\r\n  if (!user) {\r\n    return <div>Please log in to view your profile.</div>;\r\n  }\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      padding: '20px',\r\n      maxWidth: '800px',\r\n      margin: '0 auto'\r\n    }}>\r\n      <h1>Your Profile</h1>\r\n      <p>Email: {user.email}</p>\r\n      \r\n      <h2>Your Locations</h2>\r\n      {userLocations.length === 0 ? (\r\n        <p>You haven't added any locations yet.</p>\r\n      ) : (\r\n        <div style={{ display: 'grid', gap: '20px', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))' }}>\r\n          {userLocations.map(location => (\r\n            <div \r\n              key={location._id}\r\n              style={{\r\n                border: '1px solid #ddd',\r\n                borderRadius: '8px',\r\n                padding: '15px',\r\n                backgroundColor: 'white',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n              }}\r\n            >\r\n              <p style={{ fontSize: '16px', marginBottom: '10px' }}>{location.content.text}</p>\r\n              {location.content.mediaUrls?.map((url, index) => (\r\n                <img\r\n                  key={index}\r\n                  src={`http://localhost:3000/${url}`}\r\n                  alt=\"Location media\"\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '150px',\r\n                    objectFit: 'cover',\r\n                    borderRadius: '4px',\r\n                    marginBottom: '10px'\r\n                  }}\r\n                />\r\n              ))}\r\n              <p style={{ fontSize: '14px', color: '#666' }}>\r\n                Created: {new Date(location.createdAt).toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      <button \r\n        onClick={() => navigate('/')}\r\n        style={{\r\n          marginTop: '20px',\r\n          padding: '8px 16px',\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '4px',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        Back to Map\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}